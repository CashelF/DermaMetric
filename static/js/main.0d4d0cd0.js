(()=>{"use strict";var e={4412:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(5861),i=n(885),a=n(5004),l=n(3426),o=n(6792),s=n(1054),c=n(7492),d=n(1263),u=n(5222),f=n(2785),h=n(4584),p=n(9385),y=n(3287),g=n(2152),m=n(5288),x=n(2113),j=n(2826);const b={background:"#F6F6F6",primary:"#ECF2F3",accent:"#45B3CB"};var v=n(1318),w=n(2629),C=h.default.get("window").width,O=1.6*C,P=n(6135),S=o.default.create({container:{flex:1,backgroundColor:b.background,alignItems:"center",justifyContent:"center"},title:{color:b.accent,fontSize:36,marginBottom:50,fontFamily:"Nunito-Bold",fontWeight:"700"},imageAndEllipseContainer:{alignItems:"center",justifyContent:"center"},ellipse:{position:"absolute",top:-O/1.6,width:C,height:O,backgroundColor:b.primary,borderRadius:C,transform:[{scaleX:1.25}]},image:{width:.5*C,height:.5*C*(231/269),zIndex:1},header:{fontSize:18,marginTop:50,marginBottom:20,fontFamily:"Nunito-Bold",fontWeight:"700"},description:{fontSize:16,fontFamily:"Nunito-Regular",textAlign:"center",marginHorizontal:50,marginBottom:50},button:{backgroundColor:b.accent,borderRadius:20,padding:10,width:"75%",height:50,justifyContent:"center",alignItems:"center"}});const T=function(){var e=(0,v.useNavigation)(),t=function(){var e=(0,r.default)((function*(){if((yield x.requestMediaLibraryPermissionsAsync()).granted){var e=yield x.launchImageLibraryAsync({mediaTypes:j.MediaTypeOptions.Images,allowsEditing:!0,quality:1});if(!0!==e.canceled)return e}else alert("Photo access is not enabled!")}));return function(){return e.apply(this,arguments)}}(),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uri.match(/^data:(.*);base64,/),n=t?t[1]:null,r=new FormData;if(e.uri.startsWith("file://"))r.append("file",{uri:"ios"===g.default.OS?e.uri.replace("file://",""):e.uri,type:n||"image/jpeg",name:e.fileName||"image.jpg"});else{var i=function(e,t){for(var n=atob(e.split(",")[1]),r=new Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);var a=new Uint8Array(r);return new Blob([a],{type:t})}(e.uri,e.type||"image/jpeg");r.append("file",i,e.fileName||"image.jpg")}return r},i=function(){var i=(0,r.default)((function*(){try{var r=yield t();if(!r)return;var i=n({uri:r.assets[0].uri,type:"image/jpeg",name:"photo.jpg"}),a=yield fetch("https://api.cashel.dev/api/ml/predict",{method:"POST",body:i});if(!a.ok)throw new Error("Something went wrong with the API call");var l=yield a.json();e.navigate("ResultScreen",{resultData:l})}catch(o){console.error("Error during image upload: ",o),alert("Error during image upload. Please try again.")}}));return function(){return i.apply(this,arguments)}}();return(0,w.jsxs)(p.default,{style:S.container,children:[(0,w.jsxs)(p.default,{style:S.imageAndEllipseContainer,children:[(0,w.jsx)(p.default,{style:S.ellipse}),(0,w.jsx)(s.default,{style:S.title,children:"Dermetric."}),(0,w.jsx)(y.default,{source:P,style:S.image})]}),(0,w.jsx)(s.default,{style:S.header,children:"AI Medical Assistant"}),(0,w.jsx)(s.default,{style:S.description,children:"Use our image classification machine learning algorithms to test for skin disorders"}),(0,w.jsx)(m.default,{style:S.button,onPress:i,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:18,fontFamily:"Nunito-Bold",fontWeight:"700"},children:"Upload Image"})})]})};var I=n(4942),k=n(7602),B=n(1036),N=h.default.get("window").height,z=o.default.create({headerContainer:{height:.1*N,flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginHorizontal:22},leftIcon:{color:"#45B3CB"},rightIcon:{color:"#45B3CB"}});const A=function(){return(0,w.jsx)(k.default,{children:(0,w.jsxs)(p.default,{style:z.headerContainer,children:[(0,w.jsx)(B.default,{name:"home",style:z.leftIcon,size:32}),(0,w.jsx)(B.default,{name:"medkit",style:z.rightIcon,size:32})]})})};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,I.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=o.default.create({container:{width:"100%"},boxContainer:{height:"65%",marginHorizontal:20,paddingTop:10,flexDirection:"row",flexWrap:"wrap"},box:{width:"50%",height:"50%",padding:5},inner:{flex:1,width:"100%",paddingHorizontal:"10%",paddingVertical:"30%",borderRadius:15},mainTextContainer:{marginHorizontal:22},mainText:{fontSize:24,lineHeight:32},innerIcon:{color:"white"},innerInlineText:{paddingTop:"35%",flexDirection:"row",justifyContent:"space-between"},innerNamePerc:{color:"white",fontSize:16,fontWeight:"bold"},descriptionText:{paddingTop:"5%",color:"white",fontSize:12}});const M=function(){var e,t=(null==(e=(0,v.useRoute)().params)?void 0:e.resultData).prediction;console.log(t);var n=Object.keys(t).map((function(e){return[e,t[e]]}));n.sort((function(e,t){return t[1]-e[1]})),console.log(n);var r={MEL:"Melanoma",NV:"Melanocytic Nevus",BCC:"Basal Cell Carcinoma",AK:"Actinic Keratosis",BKL:"Benign Keratosis",DF:"Dermatofibroma",VASC:"Vascular Lesion",SCC:"Squamous Cell Carcinoma"};return(0,w.jsxs)(p.default,{style:E.container,children:[(0,w.jsx)(A,{}),(0,w.jsxs)(p.default,{style:E.mainTextContainer,children:[(0,w.jsx)(s.default,{style:E.mainText,children:"Hello,"}),(0,w.jsx)(s.default,{style:E.mainText,children:"These are your top matches"})]}),(0,w.jsxs)(p.default,{style:E.boxContainer,children:[(0,w.jsx)(p.default,{style:E.box,children:(0,w.jsxs)(p.default,{style:D(D({},E.inner),{},{backgroundColor:"#45B3CB"}),children:[(0,w.jsx)(B.default,{name:"medkit",style:E.innerIcon,size:32}),(0,w.jsxs)(p.default,{style:E.innerInlineText,children:[(0,w.jsx)(s.default,{style:E.innerNamePerc,children:n[0][0]}),(0,w.jsxs)(s.default,{style:E.innerNamePerc,children:[(100*n[0][1]).toFixed(2),"%"]})]}),(0,w.jsx)(s.default,{style:E.descriptionText,children:r[n[0][0]]})]})}),(0,w.jsx)(p.default,{style:E.box,children:(0,w.jsxs)(p.default,{style:D(D({},E.inner),{},{backgroundColor:"#ED7390"}),children:[(0,w.jsx)(B.default,{name:"medkit",style:E.innerIcon,size:32}),(0,w.jsxs)(p.default,{style:E.innerInlineText,children:[(0,w.jsx)(s.default,{style:E.innerNamePerc,children:n[1][0]}),(0,w.jsxs)(s.default,{style:E.innerNamePerc,children:[(100*n[1][1]).toFixed(2),"%"]})]}),(0,w.jsx)(s.default,{style:E.descriptionText,children:r[n[1][0]]})]})}),(0,w.jsx)(p.default,{style:E.box,children:(0,w.jsxs)(p.default,{style:D(D({},E.inner),{},{backgroundColor:"#E59850"}),children:[(0,w.jsx)(B.default,{name:"medkit",style:E.innerIcon,size:32}),(0,w.jsxs)(p.default,{style:E.innerInlineText,children:[(0,w.jsx)(s.default,{style:E.innerNamePerc,children:n[2][0]}),(0,w.jsxs)(s.default,{style:E.innerNamePerc,children:[(100*n[2][1]).toFixed(2),"%"]})]}),(0,w.jsx)(s.default,{style:E.descriptionText,children:r[n[2][0]]})]})}),(0,w.jsx)(p.default,{style:E.box,children:(0,w.jsxs)(p.default,{style:D(D({},E.inner),{},{backgroundColor:"#45B3CB"}),children:[(0,w.jsx)(B.default,{name:"medkit",style:E.innerIcon,size:32}),(0,w.jsxs)(p.default,{style:E.innerInlineText,children:[(0,w.jsx)(s.default,{style:E.innerNamePerc,children:n[3][0]}),(0,w.jsxs)(s.default,{style:E.innerNamePerc,children:[(100*n[3][1]).toFixed(2),"%"]})]}),(0,w.jsx)(s.default,{style:E.descriptionText,children:r[n[3][0]]})]})})]})]})};var R=(0,f.default)();const H=function(){return(0,w.jsxs)(R.Navigator,{children:[(0,w.jsx)(R.Screen,{name:"UploadScreen",component:T}),(0,w.jsx)(R.Screen,{name:"ResultScreen",component:M})]})};function L(){var e=(0,a.useState)(!1),t=(0,i.default)(e,2),o=t[0],f=t[1];function h(){return(h=(0,r.default)((function*(){yield c.loadAsync({"Nunito-Bold":n(8267),"Nunito-Regular":n(9218)})}))).apply(this,arguments)}return(0,a.useEffect)((function(){function e(){return e=(0,r.default)((function*(){try{yield d.preventAutoHideAsync(),yield function(){return h.apply(this,arguments)}()}catch(e){console.warn(e)}finally{f(!0),d.hideAsync()}})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),o?(0,w.jsxs)(u.default,{children:[(0,w.jsx)(l.default,{style:"auto"}),(0,w.jsx)(H,{})]}):(0,w.jsx)(s.default,{children:"Loading Fonts..."})}o.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},8267:(e,t,n)=>{e.exports=n.p+"static/media/Nunito-Bold.275dd55e10ba966bcb9b.ttf"},9218:(e,t,n)=>{e.exports=n.p+"static/media/Nunito-Regular.9d7a6e03c6e3ed49c7ac.ttf"},6135:(e,t,n)=>{e.exports=n.p+"static/media/UploadScreenDoctor.f71cd1ae8623186831e1.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,i,a)=>{if(!r){var l=1/0;for(d=0;d<e.length;d++){for(var[r,i,a]=e[d],o=!0,s=0;s<r.length;s++)(!1&a||l>=a)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(o=!1,a<l&&(l=a));if(o){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,i,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Dermetric/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,a,[l,o,s]=r,c=0;if(l.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(s)var d=s(n)}for(t&&t(r);c<l.length;c++)a=l[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[907],(()=>n(6271)));r=n.O(r)})();
//# sourceMappingURL=main.0d4d0cd0.js.map